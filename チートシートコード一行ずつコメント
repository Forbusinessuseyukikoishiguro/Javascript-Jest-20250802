# Jest JavaScript ãƒ†ã‚¹ãƒˆ æ–°äººã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å‘ã‘ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆ

## ğŸ“š Jestã¨ã¯ï¼Ÿ

Jestã¯ Facebookï¼ˆMetaï¼‰ãŒé–‹ç™ºã—ãŸJavaScriptã®ãƒ†ã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚
è¨­å®šãŒç°¡å˜ã§ã€è±Šå¯Œãªæ©Ÿèƒ½ã‚’æŒã¡ã€å¤šãã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ã‚ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
# npm ã®å ´åˆ
npm install --save-dev jest

# yarn ã®å ´åˆ
yarn add --dev jest
```

### package.jsonã®è¨­å®š
```json
{
  "scripts": {
    "test": "jest",
    "test:watch": "jest --watch",
    "test:coverage": "jest --coverage"
  }
}
```

## ğŸ“ åŸºæœ¬çš„ãªãƒ†ã‚¹ãƒˆã®æ›¸ãæ–¹ï¼ˆä¸€è¡Œãšã¤è©³ç´°è§£èª¬ï¼‰

### ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®å‘½åè¦å‰‡
- `*.test.js` ã¾ãŸã¯ `*.spec.js` ï¼ˆJestãŒè‡ªå‹•ã§èªè­˜ã™ã‚‹ï¼‰
- `__tests__` ãƒ•ã‚©ãƒ«ãƒ€å†…ã® `.js` ãƒ•ã‚¡ã‚¤ãƒ« ï¼ˆãƒ•ã‚©ãƒ«ãƒ€åã¯å›ºå®šï¼‰

### åŸºæœ¬æ§‹æ–‡ï¼ˆè¶…è©³ç´°ã‚³ãƒ¡ãƒ³ãƒˆä»˜ãï¼‰
```javascript
// math.test.js â† ãƒ•ã‚¡ã‚¤ãƒ«åï¼šãƒ†ã‚¹ãƒˆå¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«å + .test.js

// describe(): ãƒ†ã‚¹ãƒˆã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã™ã‚‹é–¢æ•°ï¼ˆãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆï¼‰
// ç¬¬1å¼•æ•°ï¼šã‚°ãƒ«ãƒ¼ãƒ—ã®èª¬æ˜ï¼ˆæ—¥æœ¬èªOKï¼‰
// ç¬¬2å¼•æ•°ï¼šã‚¢ãƒ­ãƒ¼é–¢æ•°ï¼ˆå®Ÿéš›ã®ãƒ†ã‚¹ãƒˆã‚’è¨˜è¿°ï¼‰
describe('æ•°å­¦é–¢æ•°ã®ãƒ†ã‚¹ãƒˆ', () => {
  
  // test(): å€‹åˆ¥ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’å®šç¾©ã™ã‚‹é–¢æ•°
  // ç¬¬1å¼•æ•°ï¼šã“ã®ãƒ†ã‚¹ãƒˆãŒä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹ã®èª¬æ˜
  // ç¬¬2å¼•æ•°ï¼šå®Ÿéš›ã®ãƒ†ã‚¹ãƒˆå‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ã‚¢ãƒ­ãƒ¼é–¢æ•°
  test('2 + 2 ã¯ 4 ã«ãªã‚‹', () => {
    // expect(): ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®å€¤ã‚’è¨­å®šï¼ˆå®Ÿéš›ã®çµæœï¼‰
    // .toBe(): ãƒãƒƒãƒãƒ£ãƒ¼ï¼ˆæœŸå¾…ã™ã‚‹çµæœã¨ã®æ¯”è¼ƒæ–¹æ³•ï¼‰
    // toBe()ã¯å³å¯†ç­‰ä¾¡ï¼ˆ===ï¼‰ã§æ¯”è¼ƒ
    expect(2 + 2).toBe(4);
    //   â†‘        â†‘
    //  å®Ÿéš›ã®å€¤   æœŸå¾…ã™ã‚‹å€¤
  });

  // it(): test()ã¨å…¨ãåŒã˜æ©Ÿèƒ½ï¼ˆå¥½ã¿ã§ä½¿ã„åˆ†ã‘ï¼‰
  // BDDï¼ˆBehavior Driven Developmentï¼‰ã‚¹ã‚¿ã‚¤ãƒ«ã§ã¯it()ã‚’ä½¿ã†
  it('3 * 3 ã¯ 9 ã«ãªã‚‹', () => { 
    expect(3 * 3).toBe(9);
  });
  
  // ãƒã‚¹ãƒˆã—ãŸdescribeã‚‚å¯èƒ½ï¼ˆç´°ã‹ã„åˆ†é¡ç”¨ï¼‰
  describe('è¶³ã—ç®—ã®ãƒ†ã‚¹ãƒˆ', () => {
    test('æ­£ã®æ•°åŒå£«ã®è¶³ã—ç®—', () => {
      expect(1 + 1).toBe(2);
    });
    
    test('è² ã®æ•°åŒå£«ã®è¶³ã—ç®—', () => {
      expect(-1 + (-1)).toBe(-2);
    });
  });
});
```

## ğŸ¯ ä¸»è¦ãªãƒãƒƒãƒãƒ£ãƒ¼ï¼ˆä¸€è¡Œãšã¤è©³ç´°è§£èª¬ï¼‰

### åŸºæœ¬çš„ãªæ¯”è¼ƒ
```javascript
test('åŸºæœ¬çš„ãªæ¯”è¼ƒ', () => {
  // toBe(): ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å€¤ï¼ˆæ•°å€¤ã€æ–‡å­—åˆ—ã€çœŸå½å€¤ï¼‰ã®å³å¯†ç­‰ä¾¡æ¯”è¼ƒ
  // å†…éƒ¨çš„ã« Object.is() ã‚’ä½¿ç”¨ï¼ˆ=== ã¨ã»ã¼åŒã˜ï¼‰
  expect(2 + 2).toBe(4);                    // æ•°å€¤ã®æ¯”è¼ƒ
  
  // toEqual(): ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚„é…åˆ—ã®å†…å®¹ã‚’å†å¸°çš„ã«æ¯”è¼ƒ
  // ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å€¤ãŒåŒã˜ãªã‚‰ã€ç•°ãªã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚‚true
  expect({name: 'John'}).toEqual({name: 'John'}); 
  // â†‘ ç•°ãªã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‚ç…§ã ãŒå†…å®¹ãŒåŒã˜ãªã®ã§OK
  
  // not: ãƒãƒƒãƒãƒ£ãƒ¼ã‚’å¦å®šã™ã‚‹ï¼ˆæœŸå¾…ã¨é€†ã®çµæœã‚’ç¢ºèªï¼‰
  expect('hello').not.toBe('world');        // 'hello'ã¯'world'ã§ã¯ãªã„
  // expect('hello').toBe('world'); â† ã“ã‚Œã ã¨ãƒ†ã‚¹ãƒˆå¤±æ•—
  
  // å‚è€ƒï¼štoBe vs toEqual ã®é•ã„
  const obj1 = {name: 'John'};
  const obj2 = {name: 'John'};
  const obj3 = obj1; // åŒã˜å‚ç…§
  
  expect(obj1).toBe(obj3);     // âœ… åŒã˜å‚ç…§ãªã®ã§OK
  expect(obj1).toBe(obj2);     // âŒ ç•°ãªã‚‹å‚ç…§ãªã®ã§å¤±æ•—
  expect(obj1).toEqual(obj2);  // âœ… å†…å®¹ãŒåŒã˜ãªã®ã§OK
});
```

### æ•°å€¤ï¼ˆä¸€è¡Œãšã¤è©³ç´°è§£èª¬ï¼‰
```javascript
test('æ•°å€¤ã®ãƒ†ã‚¹ãƒˆ', () => {
  const result = 2 + 2; // ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®å€¤ï¼š4
  
  // toBeGreaterThan(): >ï¼ˆã‚ˆã‚Šå¤§ãã„ï¼‰
  expect(result).toBeGreaterThan(3);         // 4 > 3 â†’ true
  // expect(result).toBeGreaterThan(4);      // 4 > 4 â†’ falseï¼ˆå¤±æ•—ï¼‰
  
  // toBeGreaterThanOrEqual(): >=ï¼ˆä»¥ä¸Šï¼‰
  expect(result).toBeGreaterThanOrEqual(4);  // 4 >= 4 â†’ true
  expect(result).toBeGreaterThanOrEqual(3);  // 4 >= 3 â†’ true
  
  // toBeLessThan(): <ï¼ˆã‚ˆã‚Šå°ã•ã„ï¼‰
  expect(result).toBeLessThan(5);            // 4 < 5 â†’ true
  
  // toBeLessThanOrEqual(): <=ï¼ˆä»¥ä¸‹ï¼‰
  expect(result).toBeLessThanOrEqual(4);     // 4 <= 4 â†’ true
  
  // toBeCloseTo(): æµ®å‹•å°æ•°ç‚¹ã®è¿‘ä¼¼æ¯”è¼ƒï¼ˆé‡è¦ï¼ï¼‰
  // JavaScriptã®æµ®å‹•å°æ•°ç‚¹ã¯è¨ˆç®—èª¤å·®ãŒã‚ã‚‹ãŸã‚å¿…é ˆ
  const floatResult = 0.1 + 0.2; // = 0.30000000000000004ï¼ˆèª¤å·®ã‚ã‚Šï¼‰
  expect(floatResult).toBeCloseTo(0.3);      // è¿‘ä¼¼å€¤ã§æ¯”è¼ƒã—ã¦true
  // expect(floatResult).toBe(0.3);          // å³å¯†æ¯”è¼ƒã ã¨å¤±æ•—ã™ã‚‹
  
  // ç¬¬2å¼•æ•°ã§ç²¾åº¦ã‚’æŒ‡å®šå¯èƒ½ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼š2æ¡ï¼‰
  expect(floatResult).toBeCloseTo(0.3, 5);   // å°æ•°ç‚¹ä»¥ä¸‹5æ¡ã¾ã§
});
```

### æ–‡å­—åˆ—ï¼ˆä¸€è¡Œãšã¤è©³ç´°è§£èª¬ï¼‰
```javascript
test('æ–‡å­—åˆ—ã®ãƒ†ã‚¹ãƒˆ', () => {
  const message = 'Hello World';
  const email = 'test@example.com';
  
  // toMatch(): æ–‡å­—åˆ—ã®éƒ¨åˆ†ä¸€è‡´æ¤œç´¢
  expect(message).toMatch('World');    // 'World'ã¨ã„ã†éƒ¨åˆ†æ–‡å­—åˆ—ã‚’å«ã‚€
  expect(message).toMatch('Hello');    // 'Hello'ã¨ã„ã†éƒ¨åˆ†æ–‡å­—åˆ—ã‚’å«ã‚€
  // expect(message).toMatch('Goodbye'); // å«ã¾ãªã„ã®ã§å¤±æ•—
  
  // toMatch()ã¯æ­£è¦è¡¨ç¾ã‚‚ä½¿ç”¨å¯èƒ½
  expect(message).toMatch(/^Hello/);   // ^Hello: 'Hello'ã§å§‹ã¾ã‚‹
  expect(message).toMatch(/World$/);   // World$: 'World'ã§çµ‚ã‚ã‚‹
  expect(message).toMatch(/hello/i);   // i: å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã—ãªã„
  
  // å®Ÿç”¨çš„ãªæ­£è¦è¡¨ç¾ã®ä¾‹ï¼šãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹å½¢å¼ãƒã‚§ãƒƒã‚¯
  // \S+: ç©ºç™½ä»¥å¤–ã®æ–‡å­—ãŒ1å€‹ä»¥ä¸Š
  // @: ã‚¢ãƒƒãƒˆãƒãƒ¼ã‚¯ï¼ˆãã®ã¾ã¾ï¼‰
  // \.: ãƒ”ãƒªã‚ªãƒ‰ï¼ˆ.ã¯ç‰¹æ®Šæ–‡å­—ãªã®ã§\ã§ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ï¼‰
  expect(email).toMatch(/\S+@\S+\.\S+/); // ç°¡æ˜“ãƒ¡ãƒ¼ãƒ«å½¢å¼ãƒã‚§ãƒƒã‚¯
  
  // ã‚ˆã‚Šè¤‡é›‘ãªä¾‹
  const phoneNumber = '090-1234-5678';
  expect(phoneNumber).toMatch(/^\d{3}-\d{4}-\d{4}$/); // æºå¸¯ç•ªå·å½¢å¼
  //                          â†‘ â†‘   â†‘    â†‘    â†‘
  //                          â‘  â‘¡   â‘¢    â‘£    â‘¤
  // â‘ ^: æ–‡å­—åˆ—ã®é–‹å§‹  â‘¡\d{3}: æ•°å­—3å€‹  â‘¢-: ãƒã‚¤ãƒ•ãƒ³
  // â‘£\d{4}: æ•°å­—4å€‹  â‘¤$: æ–‡å­—åˆ—ã®çµ‚äº†
});
```

### é…åˆ—ãƒ»ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆä¸€è¡Œãšã¤è©³ç´°è§£èª¬ï¼‰
```javascript
test('é…åˆ—ã®ãƒ†ã‚¹ãƒˆ', () => {
  // ãƒ†ã‚¹ãƒˆç”¨ã®é…åˆ—ã‚’æº–å‚™
  const fruits = ['apple', 'banana', 'cherry'];
  const numbers = [1, 2, 3, 4, 5];
  const emptyArray = [];
  
  // toContain(): é…åˆ—ã«ç‰¹å®šã®è¦ç´ ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
  expect(fruits).toContain('banana');        // 'banana'ãŒå«ã¾ã‚Œã¦ã„ã‚‹
  expect(numbers).toContain(3);              // æ•°å€¤3ãŒå«ã¾ã‚Œã¦ã„ã‚‹
  // expect(fruits).toContain('orange');     // å«ã¾ã‚Œã¦ã„ãªã„ã®ã§å¤±æ•—
  
  // toHaveLength(): é…åˆ—ã®é•·ã•ã‚’ãƒã‚§ãƒƒã‚¯
  expect(fruits).toHaveLength(3);            // é…åˆ—ã®é•·ã•ãŒ3
  expect(emptyArray).toHaveLength(0);        // ç©ºé…åˆ—ã®é•·ã•ã¯0
  // expect(fruits).toHaveLength(5);         // é•·ã•ãŒé•ã†ã®ã§å¤±æ•—
  
  // toEqual(): é…åˆ—å…¨ä½“ã®å†…å®¹ã‚’é †åºå«ã‚ã¦æ¯”è¼ƒ
  expect(fruits).toEqual(['apple', 'banana', 'cherry']); // å®Œå…¨ä¸€è‡´
  // é †åºã‚‚é‡è¦ï¼šä»¥ä¸‹ã¯å¤±æ•—ã™ã‚‹
  // expect(fruits).toEqual(['banana', 'apple', 'cherry']);
  
  // éƒ¨åˆ†é…åˆ—ã®ãƒ†ã‚¹ãƒˆ
  expect(fruits.slice(0, 2)).toEqual(['apple', 'banana']); // æœ€åˆã®2è¦ç´ 
  
  // é…åˆ—ã®å„è¦ç´ ã«å¯¾ã™ã‚‹ãƒ†ã‚¹ãƒˆ
  fruits.forEach(fruit => {
    expect(typeof fruit).toBe('string'); // å…¨ã¦æ–‡å­—åˆ—å‹
    expect(fruit.length).toBeGreaterThan(0); // ç©ºæ–‡å­—åˆ—ã§ã¯ãªã„
  });
});

test('ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ†ã‚¹ãƒˆ', () => {
  // ãƒ†ã‚¹ãƒˆç”¨ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æº–å‚™
  const user = { 
    name: 'John', 
    age: 30, 
    email: 'john@example.com',
    address: null,      // nullã‚’æ„å›³çš„ã«è¨­å®š
    hobbies: ['èª­æ›¸', 'æ˜ ç”»é‘‘è³']
  };
  
  // toHaveProperty(): ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«æŒ‡å®šãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒå­˜åœ¨ã™ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
  expect(user).toHaveProperty('name');       // 'name'ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒå­˜åœ¨
  expect(user).toHaveProperty('age');        // 'age'ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒå­˜åœ¨
  // expect(user).toHaveProperty('salary');  // å­˜åœ¨ã—ãªã„ã®ã§å¤±æ•—
  
  // toHaveProperty()ã¯å€¤ã‚‚ãƒã‚§ãƒƒã‚¯å¯èƒ½ï¼ˆç¬¬2å¼•æ•°ã§æœŸå¾…å€¤æŒ‡å®šï¼‰
  expect(user).toHaveProperty('name', 'John'); // nameãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å€¤ãŒ'John'
  expect(user).toHaveProperty('age', 30);      // ageãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å€¤ãŒ30
  
  // ãƒ‰ãƒƒãƒˆè¨˜æ³•ã‚„ãƒ–ãƒ©ã‚±ãƒƒãƒˆè¨˜æ³•ã§ãƒã‚¹ãƒˆã—ãŸãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚‚ãƒã‚§ãƒƒã‚¯å¯èƒ½
  // expect(user).toHaveProperty('profile.bio'); // ãƒã‚¹ãƒˆã—ãŸä¾‹ï¼ˆä»Šå›ã¯ãªã„ï¼‰
  
  // toBeDefined(): undefined ã§ã¯ãªã„ã“ã¨ã‚’ç¢ºèª
  expect(user.email).toBeDefined();          // emailã¯å®šç¾©ã•ã‚Œã¦ã„ã‚‹
  expect(user.address).toBeDefined();        // nullã ãŒå®šç¾©ã¯ã•ã‚Œã¦ã„ã‚‹
  // expect(user.salary).toBeDefined();      // undefinedãªã®ã§å¤±æ•—
  
  // ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å‹ãƒã‚§ãƒƒã‚¯
  expect(typeof user.name).toBe('string');   // name ã¯æ–‡å­—åˆ—
  expect(typeof user.age).toBe('number');    // age ã¯æ•°å€¤
  expect(Array.isArray(user.hobbies)).toBe(true); // hobbies ã¯é…åˆ—
  
  // ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã®æ¯”è¼ƒ
  const expectedUser = {
    name: 'John',
    age: 30,
    email: 'john@example.com',
    address: null,
    hobbies: ['èª­æ›¸', 'æ˜ ç”»é‘‘è³']
  };
  expect(user).toEqual(expectedUser);        // å†…å®¹ãŒå®Œå…¨ã«ä¸€è‡´
  
  // éƒ¨åˆ†çš„ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒãƒƒãƒãƒ³ã‚°
  expect(user).toMatchObject({              // æŒ‡å®šã—ãŸãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ã¿ãƒã‚§ãƒƒã‚¯
    name: 'John',
    age: 30
  }); // email, address, hobbiesã¯ç„¡è¦–ã•ã‚Œã‚‹
});
```

### nullãƒ»undefinedãƒ»boolean
```javascript
test('nullãƒ»undefinedãƒ»boolean ã®ãƒ†ã‚¹ãƒˆ', () => {
  expect(null).toBeNull();                   // null
  expect(undefined).toBeUndefined();         // undefined
  expect('hello').toBeDefined();             // definedï¼ˆnullã§ã‚‚undefinedã§ã‚‚ãªã„ï¼‰
  expect('').toBeFalsy();                    // falsyå€¤
  expect('hello').toBeTruthy();              // truthyå€¤
  expect(true).toBe(true);                   // boolean
});
```

## ğŸ”§ é–¢æ•°ã®ãƒ†ã‚¹ãƒˆä¾‹ï¼ˆä¸€è¡Œãšã¤è©³ç´°è§£èª¬ï¼‰

### ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®é–¢æ•°ï¼ˆå®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
```javascript
// utils.js - ãƒ†ã‚¹ãƒˆå¯¾è±¡ã¨ãªã‚‹é–¢æ•°ç¾¤

// ã‚·ãƒ³ãƒ—ãƒ«ãªè¶³ã—ç®—é–¢æ•°
function add(a, b) {
  return a + b;  // å¼•æ•°a ã¨ b ã‚’è¶³ã—ãŸçµæœã‚’è¿”ã™
}

// æ›ã‘ç®—é–¢æ•°
function multiply(a, b) {
  return a * b;  // å¼•æ•°a ã¨ b ã‚’æ›ã‘ãŸçµæœã‚’è¿”ã™
}

// å‰²ã‚Šç®—é–¢æ•°ï¼ˆã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ä»˜ãï¼‰
function divide(a, b) {
  // ã‚¬ãƒ¼ãƒ‰å¥ï¼šä¸æ­£ãªå…¥åŠ›ã‚’ãƒã‚§ãƒƒã‚¯
  if (b === 0) {
    // ã‚¼ãƒ­é™¤ç®—ã®å ´åˆã¯ã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ã‚‹ï¼ˆthrowï¼‰
    throw new Error('Division by zero');
  }
  return a / b;  // æ­£å¸¸ãªå ´åˆã¯å‰²ã‚Šç®—ã®çµæœã‚’è¿”ã™
}

// CommonJSã®æ›¸ãæ–¹ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆNode.jsç’°å¢ƒï¼‰
// ES6ã®å ´åˆã¯ export { add, multiply, divide };
module.exports = { add, multiply, divide };
```

### ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¸€è¡Œãšã¤è©³ç´°è§£èª¬ï¼‰
```javascript
// utils.test.js - ä¸Šè¨˜é–¢æ•°ã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«

// CommonJSã®æ›¸ãæ–¹ã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
// ES6ã®å ´åˆã¯ import { add, multiply, divide } from './utils';
const { add, multiply, divide } = require('./utils');

// describe(): é–¢é€£ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
// é–¢æ•°ç¾¤ã‚’ã¾ã¨ã‚ã¦ãƒ†ã‚¹ãƒˆã™ã‚‹æ™‚ã®åŸºæœ¬ãƒ‘ã‚¿ãƒ¼ãƒ³
describe('è¨ˆç®—é–¢æ•°ã®ãƒ†ã‚¹ãƒˆ', () => {
  
  // test(): å€‹åˆ¥ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
  // 1ã¤ã®é–¢æ•°ã«å¯¾ã—ã¦è¤‡æ•°ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’æ›¸ãã®ãŒåŸºæœ¬
  test('add: æ­£ã®æ•°ã®è¶³ã—ç®—', () => {
    // Arrangeï¼ˆæº–å‚™ï¼‰: ãƒ†ã‚¹ãƒˆç”¨ã®ãƒ‡ãƒ¼ã‚¿ã‚’æº–å‚™
    const a = 2;
    const b = 3;
    
    // Actï¼ˆå®Ÿè¡Œï¼‰: ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®é–¢æ•°ã‚’å®Ÿè¡Œ
    const result = add(a, b);
    
    // Assertï¼ˆç¢ºèªï¼‰: æœŸå¾…ã™ã‚‹çµæœã¨æ¯”è¼ƒ
    expect(result).toBe(5);
    // ã‚ˆã‚Šç›´æ¥çš„ã«æ›¸ããªã‚‰: expect(add(2, 3)).toBe(5);
  });

  test('add: è² ã®æ•°ã®è¶³ã—ç®—', () => {
    // è² ã®æ•°åŒå£«ã®è¶³ã—ç®—ã‚‚ãƒ†ã‚¹ãƒˆã™ã‚‹ï¼ˆå¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆï¼‰
    expect(add(-1, -1)).toBe(-2);
    
    // æ­£ã®æ•°ã¨è² ã®æ•°ã®çµ„ã¿åˆã‚ã›
    expect(add(5, -3)).toBe(2);
    expect(add(-5, 3)).toBe(-2);
  });

  test('add: ã‚¼ãƒ­ã¨ã®è¶³ã—ç®—', () => {
    // ã‚¼ãƒ­ã¯ç‰¹åˆ¥ãªå€¤ãªã®ã§å€‹åˆ¥ã«ãƒ†ã‚¹ãƒˆ
    expect(add(0, 0)).toBe(0);
    expect(add(5, 0)).toBe(5);
    expect(add(0, 5)).toBe(5);
  });

  test('multiply: æ›ã‘ç®—ã®ãƒ†ã‚¹ãƒˆ', () => {
    // åŸºæœ¬çš„ãªæ›ã‘ç®—
    expect(multiply(3, 4)).toBe(12);
    
    // ã‚¼ãƒ­ã¨ã®æ›ã‘ç®—ï¼ˆé‡è¦ãªãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
    expect(multiply(5, 0)).toBe(0);
    expect(multiply(0, 5)).toBe(0);
    
    // è² ã®æ•°ã¨ã®æ›ã‘ç®—
    expect(multiply(-2, 3)).toBe(-6);
    expect(multiply(-2, -3)).toBe(6);
  });

  test('divide: æ­£å¸¸ãªå‰²ã‚Šç®—', () => {
    // å‰²ã‚Šåˆ‡ã‚Œã‚‹å ´åˆ
    expect(divide(10, 2)).toBe(5);
    expect(divide(15, 3)).toBe(5);
    
    // å‰²ã‚Šåˆ‡ã‚Œãªã„å ´åˆï¼ˆå°æ•°ã«ãªã‚‹ï¼‰
    expect(divide(10, 3)).toBeCloseTo(3.333333); // æµ®å‹•å°æ•°ç‚¹ãªã®ã§toBeCloseTo
    
    // è² ã®æ•°ã®å‰²ã‚Šç®—
    expect(divide(-10, 2)).toBe(-5);
    expect(divide(10, -2)).toBe(-5);
    expect(divide(-10, -2)).toBe(5);
  });

  test('divide: ã‚¼ãƒ­é™¤ç®—ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ', () => {
    // toThrow(): é–¢æ•°ãŒã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ãƒãƒƒãƒãƒ£ãƒ¼
    // æ³¨æ„ï¼šé–¢æ•°ã‚’ç›´æ¥æ¸¡ã™ã®ã§ã¯ãªãã€ã‚¢ãƒ­ãƒ¼é–¢æ•°ã§åŒ…ã‚€å¿…è¦ãŒã‚ã‚‹
    expect(() => divide(10, 0)).toThrow('Division by zero');
    //     â†‘ ã‚¢ãƒ­ãƒ¼é–¢æ•°ã§åŒ…ã‚€ã“ã¨ã§ã€ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã«ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒ
    
    // ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æŒ‡å®šã—ãªã„å ´åˆï¼ˆä½•ã‚‰ã‹ã®ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã“ã¨ã‚’ç¢ºèªï¼‰
    expect(() => divide(5, 0)).toThrow();
    
    // ç‰¹å®šã®ã‚¨ãƒ©ãƒ¼ã‚¿ã‚¤ãƒ—ã‚’ç¢ºèªã™ã‚‹ã“ã¨ã‚‚å¯èƒ½
    expect(() => divide(1, 0)).toThrow(Error);
    
    // ã‚ˆãã‚ã‚‹é–“é•ã„ï¼šä»¥ä¸‹ã¯æ­£ã—ãå‹•ä½œã—ãªã„
    // expect(divide(10, 0)).toThrow(); // âŒ é–¢æ•°ãŒå³åº§ã«å®Ÿè¡Œã•ã‚Œã¦ã—ã¾ã†
  });
  
  // è¤‡æ•°ã®å…¥åŠ›ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ã¾ã¨ã‚ã¦ãƒ†ã‚¹ãƒˆã™ã‚‹ä¾‹
  test('add: è¤‡æ•°ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ä¸€æ‹¬ãƒ†ã‚¹ãƒˆ', () => {
    // ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’é…åˆ—ã§å®šç¾©
    const testCases = [
      { a: 1, b: 1, expected: 2 },
      { a: 0, b: 0, expected: 0 },
      { a: -1, b: 1, expected: 0 },
      { a: 100, b: -50, expected: 50 }
    ];
    
    // å„ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’å®Ÿè¡Œ
    testCases.forEach(({ a, b, expected }) => {
      expect(add(a, b)).toBe(expected);
    });
  });
});
```

## ğŸ­ ãƒ¢ãƒƒã‚¯ï¼ˆMockï¼‰ã®ä½¿ã„æ–¹ï¼ˆä¸€è¡Œãšã¤è©³ç´°è§£èª¬ï¼‰

### ãƒ¢ãƒƒã‚¯ã¨ã¯ï¼Ÿ
ãƒ¢ãƒƒã‚¯ã¯ã€Œå½ç‰©ã®é–¢æ•°ã€ã§ã™ã€‚å®Ÿéš›ã®å‡¦ç†ã¯è¡Œã‚ãšã€å‘¼ã³å‡ºã•ã‚ŒãŸã‹ã©ã†ã‹ã€ã©ã‚“ãªå¼•æ•°ã§å‘¼ã°ã‚ŒãŸã‹ãªã©ã‚’è¨˜éŒ²ãƒ»æ¤œè¨¼ã§ãã¾ã™ã€‚

### åŸºæœ¬çš„ãªãƒ¢ãƒƒã‚¯é–¢æ•°
```javascript
test('ãƒ¢ãƒƒã‚¯é–¢æ•°ã®ãƒ†ã‚¹ãƒˆ', () => {
  // jest.fn(): ãƒ¢ãƒƒã‚¯é–¢æ•°ã‚’ä½œæˆ
  // å®Ÿéš›ã®å‡¦ç†ã¯ä½•ã‚‚ã—ãªã„ãŒã€å‘¼ã³å‡ºã—æƒ…å ±ã‚’è¨˜éŒ²ã™ã‚‹ã€Œå½ç‰©ã€ã®é–¢æ•°
  const mockFn = jest.fn();
  
  // ãƒ¢ãƒƒã‚¯é–¢æ•°ã‚’å®Ÿéš›ã«å‘¼ã³å‡ºã—ã¦ã¿ã‚‹
  mockFn('arg1', 'arg2');  // 1å›ç›®ã®å‘¼ã³å‡ºã—ï¼šå¼•æ•° 'arg1', 'arg2'
  mockFn('arg3');          // 2å›ç›®ã®å‘¼ã³å‡ºã—ï¼šå¼•æ•° 'arg3'
  
  // toHaveBeenCalledTimes(): é–¢æ•°ãŒä½•å›å‘¼ã°ã‚ŒãŸã‹ã‚’ãƒã‚§ãƒƒã‚¯
  expect(mockFn).toHaveBeenCalledTimes(2);           // ä¸Šè¨˜ã§2å›å‘¼ã‚“ã§ã„ã‚‹
  
  // toHaveBeenCalledWith(): ç‰¹å®šã®å¼•æ•°ã§å‘¼ã°ã‚ŒãŸã‹ã‚’ãƒã‚§ãƒƒã‚¯
  expect(mockFn).toHaveBeenCalledWith('arg1', 'arg2'); // 1å›ç›®ã®å‘¼ã³å‡ºã—ã‚’ç¢ºèª
  
  // toHaveBeenLastCalledWith(): æœ€å¾Œã®å‘¼ã³å‡ºã—ã®å¼•æ•°ã‚’ãƒã‚§ãƒƒã‚¯
  expect(mockFn).toHaveBeenLastCalledWith('arg3');   // 2å›ç›®ï¼ˆæœ€å¾Œï¼‰ã®å‘¼ã³å‡ºã—ã‚’ç¢ºèª
  
  // ãã®ä»–ã®ä¾¿åˆ©ãªãƒãƒƒãƒãƒ£ãƒ¼
  expect(mockFn).toHaveBeenCalled();                 // æœ€ä½1å›ã¯å‘¼ã°ã‚ŒãŸ
  
  // å‘¼ã³å‡ºã—å±¥æ­´ã‚’ç›´æ¥ç¢ºèªã™ã‚‹ã“ã¨ã‚‚å¯èƒ½
  expect(mockFn.mock.calls).toEqual([                // .mock.callsã§å‘¼ã³å‡ºã—å±¥æ­´
    ['arg1', 'arg2'],  // 1å›ç›®ã®å¼•æ•°
    ['arg3']           // 2å›ç›®ã®å¼•æ•°
  ]);
  
  // å‘¼ã³å‡ºã—å›æ•°ã‚’ç›´æ¥ç¢ºèª
  expect(mockFn.mock.calls.length).toBe(2);
});

test('æˆ»ã‚Šå€¤ã‚’è¨­å®šã—ãŸãƒ¢ãƒƒã‚¯', () => {
  const mockFn = jest.fn();
  
  // mockReturnValue(): ãƒ¢ãƒƒã‚¯é–¢æ•°ã®æˆ»ã‚Šå€¤ã‚’è¨­å®š
  // ä½•å›å‘¼ã‚“ã§ã‚‚åŒã˜å€¤ã‚’è¿”ã™ã‚ˆã†ã«ãªã‚‹
  mockFn.mockReturnValue(42);              // å¸¸ã«42ã‚’è¿”ã™è¨­å®š
  
  // mockReturnValueOnce(): 1å›ã ã‘ç‰¹å®šã®å€¤ã‚’è¿”ã™è¨­å®š
  // æ¬¡å›ä»¥é™ã¯ mockReturnValue() ã§è¨­å®šã—ãŸå€¤ã‚’è¿”ã™
  mockFn.mockReturnValueOnce(100);         // 1å›ç›®ã ã‘100ã‚’è¿”ã™
  
  // å®Ÿéš›ã«ãƒ¢ãƒƒã‚¯é–¢æ•°ã‚’å‘¼ã³å‡ºã—ã¦ç¢ºèª
  const result1 = mockFn(); // 1å›ç›®ã®å‘¼ã³å‡ºã—
  expect(result1).toBe(100);  // mockReturnValueOnce()ã§è¨­å®šã—ãŸ100
  
  const result2 = mockFn(); // 2å›ç›®ã®å‘¼ã³å‡ºã—
  expect(result2).toBe(42);   // mockReturnValue()ã§è¨­å®šã—ãŸ42
  
  const result3 = mockFn(); // 3å›ç›®ã®å‘¼ã³å‡ºã—
  expect(result3).toBe(42);   // ä»¥é™ã‚‚ãšã£ã¨42
  
  // è¤‡æ•°å›åˆ†ã®æˆ»ã‚Šå€¤ã‚’è¨­å®šã™ã‚‹ã“ã¨ã‚‚å¯èƒ½
  const anotherMock = jest.fn();
  anotherMock
    .mockReturnValueOnce('first')   // 1å›ç›®
    .mockReturnValueOnce('second')  // 2å›ç›®
    .mockReturnValue('default');    // 3å›ç›®ä»¥é™
  
  expect(anotherMock()).toBe('first');
  expect(anotherMock()).toBe('second');
  expect(anotherMock()).toBe('default');
  expect(anotherMock()).toBe('default'); // ã¾ã default
});
```

### ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒ¢ãƒƒã‚¯ï¼ˆå®Ÿè·µçš„ãªä¾‹ï¼‰
```javascript
// api.js - ãƒ†ã‚¹ãƒˆå¯¾è±¡ã¨ãªã‚‹ãƒ•ã‚¡ã‚¤ãƒ«
const axios = require('axios'); // å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆHTTPé€šä¿¡ï¼‰

// ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’å–å¾—ã™ã‚‹é–¢æ•°
async function fetchUser(id) {
  // axios.get(): å®Ÿéš›ã®HTTP GET ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡
  // å®Ÿéš›ã®ã‚µãƒ¼ãƒãƒ¼ã¨é€šä¿¡ã™ã‚‹ãŸã‚ã€ãƒ†ã‚¹ãƒˆã«ã¯ä¸å‘ã
  const response = await axios.get(`/users/${id}`);
  return response.data; // ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰è¿”ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’è¿”ã™
}

module.exports = { fetchUser };
```

```javascript
// api.test.js - ä¸Šè¨˜APIã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
const axios = require('axios');        // axiosãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
const { fetchUser } = require('./api'); // ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®é–¢æ•°ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

// jest.mock(): æŒ‡å®šã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å…¨ä½“ã‚’ãƒ¢ãƒƒã‚¯åŒ–
// axiosã®å®Ÿéš›ã®é€šä¿¡å‡¦ç†ã‚’ç„¡åŠ¹åŒ–ã—ã€å½ç‰©ã®é–¢æ•°ã«ç½®ãæ›ãˆã‚‹
jest.mock('axios'); // â†ã“ã®è¡Œã§ axios ã¯å®Œå…¨ã«ãƒ¢ãƒƒã‚¯åŒ–ã•ã‚Œã‚‹

// TypeScriptã‚’ä½¿ã†å ´åˆã®å‹ä»˜ã‘ã®ãŸã‚ã®æ›¸ãæ–¹ï¼ˆJavaScriptã§ã‚‚å‹•ä½œï¼‰
const mockedAxios = axios; // ãƒ¢ãƒƒã‚¯åŒ–ã•ã‚ŒãŸaxiosã‚’å¤‰æ•°ã«ä»£å…¥

test('fetchUser: ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’å–å¾—', async () => {
  // Arrangeï¼ˆæº–å‚™ï¼‰: å½ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆ
  const userData = { id: 1, name: 'John' };
  
  // ãƒ¢ãƒƒã‚¯åŒ–ã•ã‚ŒãŸaxios.getã®å‹•ä½œã‚’å®šç¾©
  // mockResolvedValue(): PromiseãŒæˆåŠŸã—ãŸæ™‚ã®æˆ»ã‚Šå€¤ã‚’è¨­å®š
  // å®Ÿéš›ã®HTTPé€šä¿¡ã¯ç™ºç”Ÿã›ãšã€å³åº§ã«ã“ã®å€¤ã‚’è¿”ã™
  mockedAxios.get.mockResolvedValue({ data: userData });
  //           â†‘                   â†‘
  //    axios.getãƒ¡ã‚½ãƒƒãƒ‰        å®Ÿéš›ã®axiosãŒè¿”ã™å½¢å¼
  //    ã‚’ãƒ¢ãƒƒã‚¯åŒ–             { data: ... } ã®æ§‹é€ 
  
  // Actï¼ˆå®Ÿè¡Œï¼‰: ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®é–¢æ•°ã‚’å®Ÿè¡Œ
  const result = await fetchUser(1);
  
  // Assertï¼ˆç¢ºèªï¼‰: çµæœã®æ¤œè¨¼
  expect(result).toEqual(userData);                    // æˆ»ã‚Šå€¤ãŒæ­£ã—ã„
  expect(mockedAxios.get).toHaveBeenCalledWith('/users/1'); // æ­£ã—ã„URLã§å‘¼ã³å‡ºã•ã‚ŒãŸ
  expect(mockedAxios.get).toHaveBeenCalledTimes(1);    // 1å›ã ã‘å‘¼ã³å‡ºã•ã‚ŒãŸ
  
  // ãƒ¢ãƒƒã‚¯é–¢æ•°ãªã®ã§å®Ÿéš›ã®HTTPé€šä¿¡ã¯ç™ºç”Ÿã—ã¦ã„ãªã„
  // ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ã‚„ã‚µãƒ¼ãƒãƒ¼ãƒ€ã‚¦ãƒ³ã®å½±éŸ¿ã‚’å—ã‘ãªã„å®‰å®šã—ãŸãƒ†ã‚¹ãƒˆ
});

test('fetchUser: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ãƒ†ã‚¹ãƒˆ', async () => {
  // mockRejectedValue(): PromiseãŒå¤±æ•—ï¼ˆrejectï¼‰ã—ãŸæ™‚ã®å€¤ã‚’è¨­å®š
  const errorMessage = 'Network Error';
  mockedAxios.get.mockRejectedValue(new Error(errorMessage));
  
  // ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã“ã¨ã‚’ç¢ºèª
  // rejects: Promise ãŒ reject ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ãƒãƒƒãƒãƒ£ãƒ¼
  await expect(fetchUser(999)).rejects.toThrow(errorMessage);
  
  // ã¾ãŸã¯ try-catch ã§æ›¸ãã“ã¨ã‚‚å¯èƒ½
  try {
    await fetchUser(999);
    // ã“ã“ã¾ã§åˆ°é”ã—ãŸã‚‰ãƒ†ã‚¹ãƒˆå¤±æ•—ï¼ˆã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã‹ã£ãŸï¼‰
    fail('Expected function to throw');
  } catch (error) {
    expect(error.message).toBe(errorMessage);
  }
});

// ãƒ†ã‚¹ãƒˆé–“ã§ãƒ¢ãƒƒã‚¯ã®çŠ¶æ…‹ã‚’ã‚¯ãƒªã‚¢
afterEach(() => {
  // jest.clearAllMocks(): å…¨ã¦ã®ãƒ¢ãƒƒã‚¯é–¢æ•°ã®å‘¼ã³å‡ºã—å±¥æ­´ã‚’ã‚¯ãƒªã‚¢
  // æ¬¡ã®ãƒ†ã‚¹ãƒˆã«å½±éŸ¿ã‚’ä¸ãˆãªã„ã‚ˆã†ã«ã™ã‚‹é‡è¦ãªå‡¦ç†
  jest.clearAllMocks();
});
```

### éƒ¨åˆ†çš„ãªãƒ¢ãƒƒã‚¯ï¼ˆä¸€éƒ¨ã®ãƒ¡ã‚½ãƒƒãƒ‰ã ã‘ã‚’ãƒ¢ãƒƒã‚¯åŒ–ï¼‰
```javascript
// mathUtils.js
const mathUtils = {
  add: (a, b) => a + b,
  multiply: (a, b) => a * b,
  complexCalculation: (a, b) => {
    // è¤‡é›‘ãªè¨ˆç®—ï¼ˆæ™‚é–“ãŒã‹ã‹ã‚‹å‡¦ç†ã¨ä»®å®šï¼‰
    const sum = mathUtils.add(a, b);
    const product = mathUtils.multiply(a, b);
    return sum + product;
  }
};

module.exports = mathUtils;
```

```javascript
// mathUtils.test.js
const mathUtils = require('./mathUtils');

// éƒ¨åˆ†ãƒ¢ãƒƒã‚¯ï¼šä¸€éƒ¨ã®ãƒ¡ã‚½ãƒƒãƒ‰ã ã‘ã‚’ãƒ¢ãƒƒã‚¯åŒ–
jest.spyOn(mathUtils, 'add').mockReturnValue(10);
jest.spyOn(mathUtils, 'multiply').mockReturnValue(20);

test('complexCalculation: éƒ¨åˆ†ãƒ¢ãƒƒã‚¯ã®ãƒ†ã‚¹ãƒˆ', () => {
  const result = mathUtils.complexCalculation(3, 4);
  
  // complexCalculationã¯å®Ÿéš›ã«å®Ÿè¡Œã•ã‚Œã‚‹ãŒã€
  // addã¨multiplyã¯ãƒ¢ãƒƒã‚¯åŒ–ã•ã‚ŒãŸå€¤ã‚’è¿”ã™
  expect(result).toBe(30); // 10(mocked add) + 20(mocked multiply)
  
  // ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸãƒ¡ã‚½ãƒƒãƒ‰ãŒæ­£ã—ãå‘¼ã°ã‚ŒãŸã‹ã‚’ç¢ºèª
  expect(mathUtils.add).toHaveBeenCalledWith(3, 4);
  expect(mathUtils.multiply).toHaveBeenCalledWith(3, 4);
});
```

## â° éåŒæœŸå‡¦ç†ã®ãƒ†ã‚¹ãƒˆï¼ˆä¸€è¡Œãšã¤è©³ç´°è§£èª¬ï¼‰

### éåŒæœŸå‡¦ç†ã¨ã¯ï¼Ÿ
JavaScriptã§ã¯ã€æ™‚é–“ã®ã‹ã‹ã‚‹å‡¦ç†ï¼ˆAPIé€šä¿¡ã€ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿ãªã©ï¼‰ã‚’éåŒæœŸã§å®Ÿè¡Œã—ã¾ã™ã€‚ãƒ†ã‚¹ãƒˆã§ã‚‚ã“ã‚Œã‚‰ã‚’æ­£ã—ãæ‰±ã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

### ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®éåŒæœŸé–¢æ•°
```javascript
// async.js - ãƒ†ã‚¹ãƒˆå¯¾è±¡ã¨ãªã‚‹éåŒæœŸé–¢æ•°

// Promise.resolve(): å³åº§ã«æˆåŠŸã™ã‚‹Promiseã‚’è¿”ã™é–¢æ•°
function fetchData() {
  return Promise.resolve('ãƒ‡ãƒ¼ã‚¿'); // 'ãƒ‡ãƒ¼ã‚¿'ã¨ã„ã†å€¤ã§æˆåŠŸã™ã‚‹Promise
}

// setTimeout ã‚’ä½¿ã£ãŸé…å»¶å‡¦ç†
function fetchDataWithDelay() {
  // new Promise(): æ‰‹å‹•ã§Promiseã‚’ä½œæˆ
  return new Promise(resolve => {
    // setTimeout(): æŒ‡å®šæ™‚é–“å¾Œã«å‡¦ç†ã‚’å®Ÿè¡Œï¼ˆéåŒæœŸå‡¦ç†ã®ä»£è¡¨ä¾‹ï¼‰
    setTimeout(() => resolve('é…å»¶ãƒ‡ãƒ¼ã‚¿'), 100);
    //         â†‘                        â†‘
    //    100mså¾Œã«å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†      é…å»¶æ™‚é–“ï¼ˆãƒŸãƒªç§’ï¼‰
  });
}

// å¤±æ•—ã™ã‚‹Promiseã®ä¾‹
function fetchDataWithError() {
  return Promise.reject(new Error('ãƒ‡ãƒ¼ã‚¿å–å¾—ã«å¤±æ•—'));
}

module.exports = { fetchData, fetchDataWithDelay, fetchDataWithError };
```

### éåŒæœŸãƒ†ã‚¹ãƒˆã®æ›¸ãæ–¹
```javascript
// async.test.js - éåŒæœŸå‡¦ç†ã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
const { fetchData, fetchDataWithDelay, fetchDataWithError } = require('./async');

// ã€æ–¹æ³•1ã€‘async/await ã‚’ä½¿ã£ãŸæ›¸ãæ–¹ï¼ˆæ¨å¥¨ï¼‰
test('async/await ã§Promiseã‚’ãƒ†ã‚¹ãƒˆ', async () => {
  // async ã‚’ã¤ã‘ã‚‹ã“ã¨ã§ã€ã“ã®é–¢æ•°å†…ã§ await ãŒä½¿ãˆã‚‹
  // await: Promiseã®å®Œäº†ã‚’å¾…ã¤ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰
  const data = await fetchData();
  //     â†‘                â†‘
  //  çµæœã‚’å—ã‘å–ã‚‹    Promiseã‚’è¿”ã™é–¢æ•°
  
  // PromiseãŒè§£æ±ºã•ã‚ŒãŸå¾Œã«ã€é€šå¸¸ã®å€¤ã¨åŒã˜ã‚ˆã†ã«ãƒ†ã‚¹ãƒˆ
  expect(data).toBe('ãƒ‡ãƒ¼ã‚¿');
});

// ã€æ–¹æ³•2ã€‘resolves ãƒãƒƒãƒãƒ£ãƒ¼ã‚’ä½¿ã£ãŸæ›¸ãæ–¹
test('resolves ã§Promiseã‚’ãƒ†ã‚¹ãƒˆ', () => {
  // resolves: PromiseãŒæˆåŠŸã™ã‚‹ã“ã¨ã‚’å‰æã¨ã—ãŸãƒãƒƒãƒãƒ£ãƒ¼
  // expect()ã«Promiseã‚’ç›´æ¥æ¸¡ã—ã€.resolvesã§æˆåŠŸæ™‚ã®å€¤ã‚’ãƒ†ã‚¹ãƒˆ
  return expect(fetchData()).resolves.toBe('ãƒ‡ãƒ¼ã‚¿');
  //     â†‘                                    â†‘
  //  returnå¿…é ˆï¼              æˆåŠŸæ™‚ã®æœŸå¾…å€¤
});

// âŒ é–“é•ã£ãŸéåŒæœŸãƒ†ã‚¹ãƒˆã®ä¾‹
test('âŒ é–“é•ã£ãŸéåŒæœŸãƒ†ã‚¹ãƒˆ', () => {
  fetchData(); // awaitã‚‚returnã‚‚ãªã„
  // ã“ã®æ™‚ç‚¹ã§Promiseã¯ã¾ã å®Œäº†ã—ã¦ã„ãªã„å¯èƒ½æ€§ãŒé«˜ã„
  // expect(data).toBe('ãƒ‡ãƒ¼ã‚¿'); // dataã¯æœªå®šç¾©
  
  // æ­£ã—ãã¯ä¸Šè¨˜ã®ã‚ˆã†ã« async/await ã¾ãŸã¯ return ã‚’ä½¿ã†
});

// æ™‚é–“ã®ã‹ã‹ã‚‹éåŒæœŸå‡¦ç†ã®ãƒ†ã‚¹ãƒˆ
test('é…å»¶ã®ã‚ã‚‹Promise', async () => {
  // 100mså¾…ã¤å‡¦ç†ã‚’ãƒ†ã‚¹ãƒˆ
  const data = await fetchDataWithDelay();
  expect(data).toBe('é…å»¶ãƒ‡ãƒ¼ã‚¿');
  
  // æ³¨æ„ï¼šã“ã®ãƒ†ã‚¹ãƒˆã¯å®Ÿéš›ã«100mså¾…ã¤ãŸã‚ã€ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚é–“ãŒé•·ããªã‚‹
}, 1000); // â† ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’1ç§’ã«è¨­å®šï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯5ç§’ï¼‰

// ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™Promiseã®ãƒ†ã‚¹ãƒˆ
test('Promise ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆasync/awaitï¼‰', async () => {
  // try-catch ã‚’ä½¿ã£ã¦ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒ
  try {
    await fetchDataWithError();
    // ã“ã“ã¾ã§åˆ°é”ã—ãŸã‚‰ãƒ†ã‚¹ãƒˆå¤±æ•—ï¼ˆã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã‹ã£ãŸï¼‰
    fail('Expected function to throw');
  } catch (error) {
    expect(error.message).toBe('ãƒ‡ãƒ¼ã‚¿å–å¾—ã«å¤±æ•—');
  }
});

// ã€æ–¹æ³•3ã€‘rejects ãƒãƒƒãƒãƒ£ãƒ¼ã‚’ä½¿ã£ãŸã‚¨ãƒ©ãƒ¼ãƒ†ã‚¹ãƒˆ
test('rejects ã§Promiseã®ã‚¨ãƒ©ãƒ¼ã‚’ãƒ†ã‚¹ãƒˆ', () => {
  // rejects: PromiseãŒå¤±æ•—ã™ã‚‹ã“ã¨ã‚’å‰æã¨ã—ãŸãƒãƒƒãƒãƒ£ãƒ¼
  return expect(fetchDataWithError()).rejects.toThrow('ãƒ‡ãƒ¼ã‚¿å–å¾—ã«å¤±æ•—');
  //     â†‘                                          â†‘
  //  returnå¿…é ˆï¼                          æœŸå¾…ã™ã‚‹ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
});

// è¤‡æ•°ã®éåŒæœŸå‡¦ç†ã‚’åŒæ™‚å®Ÿè¡Œ
test('è¤‡æ•°ã®Promiseã‚’ä¸¦è¡Œå®Ÿè¡Œ', async () => {
  // Promise.all(): è¤‡æ•°ã®Promiseã‚’ä¸¦è¡Œå®Ÿè¡Œã—ã€å…¨ã¦å®Œäº†ã™ã‚‹ã¾ã§å¾…ã¤
  const promises = [
    fetchData(),              // 'ãƒ‡ãƒ¼ã‚¿'
    fetchDataWithDelay(),     // 'é…å»¶ãƒ‡ãƒ¼ã‚¿'ï¼ˆ100mså¾Œï¼‰
    Promise.resolve('å³åº§')   // 'å³åº§'
  ];
  
  // å…¨ã¦ã®PromiseãŒå®Œäº†ã™ã‚‹ã¾ã§å¾…ã¤ï¼ˆæœ€ã‚‚æ™‚é–“ã®ã‹ã‹ã‚‹ã‚‚ã®ã«åˆã‚ã›ã‚‹ï¼‰
  const results = await Promise.all(promises);
  
  expect(results).toEqual(['ãƒ‡ãƒ¼ã‚¿', 'é…å»¶ãƒ‡ãƒ¼ã‚¿', 'å³åº§']);
  expect(results).toHaveLength(3);
});
```

### å®Ÿè·µçš„ãªä¾‹ï¼šAPIé€šä¿¡ã®ãƒ†ã‚¹ãƒˆ
```javascript
// userService.js - å®Ÿéš›ã®APIã¨é€šä¿¡ã™ã‚‹é–¢æ•°
async function createUser(userData) {
  // å®Ÿéš›ã®APIé€šä¿¡ï¼ˆPOST ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼‰
  const response = await fetch('/api/users', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify(userData),
  });
  
  // ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ãƒã‚§ãƒƒã‚¯
  if (!response.ok) {
    throw new Error(`HTTP Error: ${response.status}`);
  }
  
  // JSONãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
  return await response.json();
}

module.exports = { createUser };
```

```javascript
// userService.test.js - APIé€šä¿¡ã®ãƒ†ã‚¹ãƒˆ
const { createUser } = require('./userService');

// fetch APIã‚’ãƒ¢ãƒƒã‚¯åŒ–
global.fetch = jest.fn();

describe('createUser API', () => {
  // å„ãƒ†ã‚¹ãƒˆå¾Œã«ãƒ¢ãƒƒã‚¯ã‚’ã‚¯ãƒªã‚¢
  afterEach(() => {
    jest.clearAllMocks();
  });

  test('ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆæˆåŠŸ', async () => {
    // Arrange: ãƒ¢ãƒƒã‚¯ã®è¨­å®š
    const userData = { name: 'John', email: 'john@test.com' };
    const responseData = { id: 1, ...userData };
    
    // fetch ã®æˆ»ã‚Šå€¤ã‚’ãƒ¢ãƒƒã‚¯åŒ–
    fetch.mockResolvedValue({
      ok: true,                              // response.ok = true
      status: 201,                           // response.status = 201
      json: jest.fn().mockResolvedValue(responseData) // response.json()ã®æˆ»ã‚Šå€¤
    });

    // Act: å®Ÿéš›ã«ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®é–¢æ•°ã‚’å®Ÿè¡Œ
    const result = await createUser(userData);

    // Assert: çµæœã‚’æ¤œè¨¼
    expect(result).toEqual(responseData);
    expect(fetch).toHaveBeenCalledWith('/api/users', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(userData),
    });
    expect(fetch).toHaveBeenCalledTimes(1);
  });

  test('APIé€šä¿¡ã‚¨ãƒ©ãƒ¼', async () => {
    // fetch ãŒå¤±æ•—ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™ã‚±ãƒ¼ã‚¹
    fetch.mockResolvedValue({
      ok: false,      // response.ok = false
      status: 400,    // response.status = 400ï¼ˆBad Requestï¼‰
    });

    const userData = { name: 'Invalid' };

    // ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã“ã¨ã‚’ç¢ºèª
    await expect(createUser(userData)).rejects.toThrow('HTTP Error: 400');
  });

  test('ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼', async () => {
    // fetch è‡ªä½“ãŒå¤±æ•—ã™ã‚‹ã‚±ãƒ¼ã‚¹ï¼ˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ãªã©ï¼‰
    fetch.mockRejectedValue(new Error('Network Error'));

    const userData = { name: 'John' };

    await expect(createUser(userData)).rejects.toThrow('Network Error');
  });
});
```

### éåŒæœŸå‡¦ç†ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆåˆ¶å¾¡
```javascript
// ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆä»˜ãã®é–¢æ•°
function slowOperation() {
  return new Promise(resolve => {
    setTimeout(() => resolve('å®Œäº†'), 2000); // 2ç§’ã‹ã‹ã‚‹å‡¦ç†
  });
}

test('é•·æ™‚é–“å‡¦ç†ã®ãƒ†ã‚¹ãƒˆ', async () => {
  const result = await slowOperation();
  expect(result).toBe('å®Œäº†');
}, 3000); // ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’3ç§’ã«è¨­å®šï¼ˆå‡¦ç†æ™‚é–“ã‚ˆã‚Šé•·ãï¼‰

// Jest ã®ã‚¿ã‚¤ãƒãƒ¼ãƒ¢ãƒƒã‚¯ã‚’ä½¿ã£ã¦æ™‚é–“ã‚’åˆ¶å¾¡
test('ã‚¿ã‚¤ãƒãƒ¼ãƒ¢ãƒƒã‚¯ã‚’ä½¿ã£ãŸé«˜é€Ÿãƒ†ã‚¹ãƒˆ', async () => {
  // Jest ã«ã‚¿ã‚¤ãƒãƒ¼é–¢æ•°ã‚’ãƒ¢ãƒƒã‚¯åŒ–ã•ã›ã‚‹
  jest.useFakeTimers();
  
  // éåŒæœŸå‡¦ç†ã‚’é–‹å§‹ï¼ˆã¾ã å®Œäº†ã—ãªã„ï¼‰
  const promise = slowOperation();
  
  // ã‚¿ã‚¤ãƒãƒ¼ã‚’å¼·åˆ¶çš„ã«é€²ã‚ã‚‹
  jest.advanceTimersByTime(2000); // 2ç§’åˆ†é€²ã‚ã‚‹
  
  // PromiseãŒå®Œäº†ã—ã¦ã„ã‚‹ã¯ãš
  const result = await promise;
  expect(result).toBe('å®Œäº†');
  
  // å®Ÿéš›ã®æ™‚é–“ã¯æ•°ãƒŸãƒªç§’ã—ã‹çµŒã£ã¦ã„ãªã„ï¼
  
  // ã‚¿ã‚¤ãƒãƒ¼ã‚’å…ƒã«æˆ»ã™
  jest.useRealTimers();
});
```

## ğŸ—ï¸ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ»ãƒ†ã‚£ã‚¢ãƒ€ã‚¦ãƒ³

### ãƒ†ã‚¹ãƒˆå‰å¾Œã®å‡¦ç†
```javascript
describe('ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ†ã‚¹ãƒˆ', () => {
  let database;

  // å„ãƒ†ã‚¹ãƒˆã®å‰ã«å®Ÿè¡Œ
  beforeEach(() => {
    database = new Database();
    database.connect();
  });

  // å„ãƒ†ã‚¹ãƒˆã®å¾Œã«å®Ÿè¡Œ
  afterEach(() => {
    database.disconnect();
  });

  // æœ€åˆã«1å›ã ã‘å®Ÿè¡Œ
  beforeAll(() => {
    console.log('ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆé–‹å§‹');
  });

  // æœ€å¾Œã«1å›ã ã‘å®Ÿè¡Œ
  afterAll(() => {
    console.log('ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆçµ‚äº†');
  });

  test('ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜', () => {
    const result = database.save({ name: 'test' });
    expect(result).toBeTruthy();
  });

  test('ãƒ‡ãƒ¼ã‚¿ã®å–å¾—', () => {
    database.save({ id: 1, name: 'test' });
    const result = database.findById(1);
    expect(result.name).toBe('test');
  });
});
```

## ğŸ¨ å®Ÿè·µçš„ãªä¾‹ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ã‚¯ãƒ©ã‚¹

### ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®ã‚¯ãƒ©ã‚¹
```javascript
// User.js
class User {
  constructor(name, email) {
    if (!name || !email) {
      throw new Error('Name and email are required');
    }
    this.name = name;
    this.email = email;
    this.isActive = false;
  }

  activate() {
    this.isActive = true;
  }

  deactivate() {
    this.isActive = false;
  }

  getInfo() {
    return {
      name: this.name,
      email: this.email,
      status: this.isActive ? 'active' : 'inactive'
    };
  }

  updateEmail(newEmail) {
    if (!newEmail.includes('@')) {
      throw new Error('Invalid email format');
    }
    this.email = newEmail;
  }
}

module.exports = User;
```

### åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆ
```javascript
// User.test.js
const User = require('./User');

describe('User ã‚¯ãƒ©ã‚¹', () => {
  let user;

  beforeEach(() => {
    user = new User('John Doe', 'john@example.com');
  });

  describe('ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿', () => {
    test('æ­£å¸¸ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆ', () => {
      expect(user.name).toBe('John Doe');
      expect(user.email).toBe('john@example.com');
      expect(user.isActive).toBe(false);
    });

    test('åå‰ãªã—ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ', () => {
      expect(() => new User('', 'email@example.com')).toThrow('Name and email are required');
    });

    test('ãƒ¡ãƒ¼ãƒ«ãªã—ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ', () => {
      expect(() => new User('Name', '')).toThrow('Name and email are required');
    });
  });

  describe('ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ã‚·ãƒ§ãƒ³', () => {
    test('ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«ã™ã‚‹', () => {
      user.activate();
      expect(user.isActive).toBe(true);
    });

    test('ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’éã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«ã™ã‚‹', () => {
      user.activate();
      user.deactivate();
      expect(user.isActive).toBe(false);
    });
  });

  describe('æƒ…å ±å–å¾—', () => {
    test('éã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æƒ…å ±', () => {
      const info = user.getInfo();
      expect(info).toEqual({
        name: 'John Doe',
        email: 'john@example.com',
        status: 'inactive'
      });
    });

    test('ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æƒ…å ±', () => {
      user.activate();
      const info = user.getInfo();
      expect(info.status).toBe('active');
    });
  });

  describe('ãƒ¡ãƒ¼ãƒ«æ›´æ–°', () => {
    test('æ­£å¸¸ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§æ›´æ–°', () => {
      user.updateEmail('newemail@example.com');
      expect(user.email).toBe('newemail@example.com');
    });

    test('ç„¡åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ã‚¨ãƒ©ãƒ¼', () => {
      expect(() => user.updateEmail('invalid-email')).toThrow('Invalid email format');
    });
  });
});
```

## ğŸ“Š ã‚«ãƒãƒ¬ãƒƒã‚¸ã®ç¢ºèª

```bash
# ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
npm run test:coverage

# ã¾ãŸã¯
jest --coverage
```

ã‚«ãƒãƒ¬ãƒƒã‚¸ã®ç¨®é¡ï¼š
- **Statements**: æ–‡ã®å®Ÿè¡Œç‡
- **Branches**: åˆ†å²ã®å®Ÿè¡Œç‡
- **Functions**: é–¢æ•°ã®å®Ÿè¡Œç‡
- **Lines**: è¡Œã®å®Ÿè¡Œç‡

## ğŸ› ï¸ ã‚ˆãä½¿ã†Jestã®è¨­å®š

### jest.config.js
```javascript
module.exports = {
  // ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¿ãƒ¼ãƒ³
  testMatch: [
    "**/__tests__/**/*.js",
    "**/?(*.)+(spec|test).js"
  ],
  
  // ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«
  setupFilesAfterEnv: ["<rootDir>/src/setupTests.js"],
  
  // ã‚«ãƒãƒ¬ãƒƒã‚¸ã®è¨­å®š
  collectCoverageFrom: [
    "src/**/*.js",
    "!src/index.js"
  ],
  
  // ã‚«ãƒãƒ¬ãƒƒã‚¸ã®é–¾å€¤
  coverageThreshold: {
    global: {
      branches: 80,
      functions: 80,
      lines: 80,
      statements: 80
    }
  }
};
```

## ğŸ’¡ ãƒ†ã‚¹ãƒˆã‚’æ›¸ãæ™‚ã®ã‚³ãƒ„

### 1. ãƒ†ã‚¹ãƒˆåã¯å…·ä½“çš„ã«
```javascript
// âŒ æ‚ªã„ä¾‹
test('ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ†ã‚¹ãƒˆ', () => {});

// âœ… è‰¯ã„ä¾‹
test('æœ‰åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆã§ãã‚‹', () => {});
```

### 2. Arrange-Act-Assert ãƒ‘ã‚¿ãƒ¼ãƒ³
```javascript
test('å•†å“ã®å‰²å¼•ä¾¡æ ¼ã‚’è¨ˆç®—ã™ã‚‹', () => {
  // Arrangeï¼ˆæº–å‚™ï¼‰
  const product = { price: 1000 };
  const discountRate = 0.1;

  // Actï¼ˆå®Ÿè¡Œï¼‰
  const discountedPrice = calculateDiscount(product.price, discountRate);

  // Assertï¼ˆç¢ºèªï¼‰
  expect(discountedPrice).toBe(900);
});
```

### 3. ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã‚‚å¿˜ã‚Œãšã«
```javascript
describe('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³', () => {
  test('æ­£å¸¸ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯é€šã‚‹', () => {
    expect(validatePassword('SecurePass123!')).toBe(true);
  });

  test('çŸ­ã™ãã‚‹ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ã‚¨ãƒ©ãƒ¼', () => {
    expect(() => validatePassword('123')).toThrow('Password too short');
  });

  test('æ•°å­—ãŒãªã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ã‚¨ãƒ©ãƒ¼', () => {
    expect(() => validatePassword('SecurePassword!')).toThrow('Password must contain numbers');
  });
});
```

## ğŸš¨ ã‚ˆãã‚ã‚‹ãƒŸã‚¹ï¼ˆè©³ç´°è§£èª¬ã¨å¯¾ç­–ï¼‰

### 1. éåŒæœŸå‡¦ç†ã§ã®return/awaitå¿˜ã‚Œï¼ˆæœ€ã‚‚å¤šã„ãƒŸã‚¹ï¼‰
```javascript
// âŒ æ‚ªã„ä¾‹ï¼šéåŒæœŸå‡¦ç†ã‚’å¾…ãŸãªã„
test('âŒ éåŒæœŸãƒ†ã‚¹ãƒˆï¼ˆé–“é•ã„ï¼‰', () => {
  fetchData(); // Promiseã‚’è¿”ã™ãŒã€await ã‚‚ return ã‚‚ã—ã¦ã„ãªã„
  // ã“ã®æ™‚ç‚¹ã§ fetchData() ã¯ã¾ã å®Ÿè¡Œä¸­ã®å¯èƒ½æ€§ãŒé«˜ã„
  expect(something).toBe(expected); // undefined ã‚„äºˆæœŸã—ãªã„å€¤ã«ãªã‚‹
  // ãƒ†ã‚¹ãƒˆã¯ã€Œè¦‹ã‹ã‘ä¸ŠæˆåŠŸã€ã™ã‚‹ãŒã€å®Ÿéš›ã¯æ­£ã—ããƒ†ã‚¹ãƒˆã•ã‚Œã¦ã„ãªã„
});

// âœ… è‰¯ã„ä¾‹1ï¼šasync/await ã‚’ä½¿ç”¨
test('âœ… éåŒæœŸãƒ†ã‚¹ãƒˆï¼ˆasync/awaitï¼‰', async () => {
  //  â†‘ async ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’è¿½åŠ 
  const result = await fetchData(); // await ã§å®Œäº†ã‚’å¾…ã¤
  //             â†‘ await ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’è¿½åŠ 
  expect(result).toBe(expected);
});

// âœ… è‰¯ã„ä¾‹2ï¼šreturn ã‚’ä½¿ç”¨
test('âœ… éåŒæœŸãƒ†ã‚¹ãƒˆï¼ˆreturnï¼‰', () => {
  return fetchData().then(result => { // return ã§ Promise ã‚’è¿”ã™
  //  â†‘ return ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒé‡è¦
    expect(result).toBe(expected);
  });
});

// âœ… è‰¯ã„ä¾‹3ï¼šresolves/rejects ãƒãƒƒãƒãƒ£ãƒ¼
test('âœ… éåŒæœŸãƒ†ã‚¹ãƒˆï¼ˆresolvesï¼‰', () => {
  return expect(fetchData()).resolves.toBe(expected);
  //  â†‘ return ãŒå¿…è¦
});
```

### 2. ãƒ¢ãƒƒã‚¯ã®ã‚¯ãƒªã‚¢å¿˜ã‚Œï¼ˆãƒ†ã‚¹ãƒˆé–“ã®å¹²æ¸‰ï¼‰
```javascript
// å•é¡Œã®ã‚ã‚‹ãƒ†ã‚¹ãƒˆä¾‹
describe('âŒ ãƒ¢ãƒƒã‚¯ã‚’ã‚¯ãƒªã‚¢ã—ãªã„ä¾‹', () => {
  const mockFn = jest.fn();

  test('1ã¤ç›®ã®ãƒ†ã‚¹ãƒˆ', () => {
    mockFn('test1');
    expect(mockFn).toHaveBeenCalledTimes(1);
    expect(mockFn).toHaveBeenCalledWith('test1');
  });

  test('2ã¤ç›®ã®ãƒ†ã‚¹ãƒˆ', () => {
    mockFn('test2');
    // âŒ å‰ã®ãƒ†ã‚¹ãƒˆã®å‘¼ã³å‡ºã—ãŒã¾ã æ®‹ã£ã¦ã„ã‚‹ãŸã‚ã€å®Ÿéš›ã¯2å›
    expect(mockFn).toHaveBeenCalledTimes(1); // ã“ã‚Œã¯å¤±æ•—ã™ã‚‹ï¼
    expect(mockFn).toHaveBeenCalledWith('test2');
  });
});

// âœ… æ­£ã—ã„ä¾‹ï¼šãƒ¢ãƒƒã‚¯ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹
describe('âœ… ãƒ¢ãƒƒã‚¯ã‚’æ­£ã—ãã‚¯ãƒªã‚¢ã™ã‚‹ä¾‹', () => {
  const mockFn = jest.fn();

  // å„ãƒ†ã‚¹ãƒˆã®å¾Œã«ãƒ¢ãƒƒã‚¯ã‚’ã‚¯ãƒªã‚¢
  afterEach(() => {
    jest.clearAllMocks(); // å…¨ã¦ã®ãƒ¢ãƒƒã‚¯é–¢æ•°ã®å±¥æ­´ã‚’ã‚¯ãƒªã‚¢
    // ã¾ãŸã¯ mockFn.mockClear(); // ç‰¹å®šã®ãƒ¢ãƒƒã‚¯é–¢æ•°ã ã‘ã‚¯ãƒªã‚¢
  });

  test('1ã¤ç›®ã®ãƒ†ã‚¹ãƒˆ', () => {
    mockFn('test1');
    expect(mockFn).toHaveBeenCalledTimes(1);
  });

  test('2ã¤ç›®ã®ãƒ†ã‚¹ãƒˆ', () => {
    mockFn('test2');
    expect(mockFn).toHaveBeenCalledTimes(1); // âœ… æ­£ã—ã1å›
  });
});
```

### 3. ãƒ†ã‚¹ãƒˆã®ç‹¬ç«‹æ€§ã‚’ä¿ãŸãªã„ï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ã®å…±æœ‰ï¼‰
```javascript
// âŒ æ‚ªã„ä¾‹ï¼šãƒ†ã‚¹ãƒˆé–“ã§çŠ¶æ…‹ã‚’å…±æœ‰
describe('âŒ çŠ¶æ…‹ã‚’å…±æœ‰ã™ã‚‹å±é™ºãªä¾‹', () => {
  let globalUser; // ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ï¼ˆå±é™ºï¼‰

  test('ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ', () => {
    globalUser = new User('John', 'john@test.com');
    expect(globalUser.name).toBe('John');
  });

  test('ãƒ¦ãƒ¼ã‚¶ãƒ¼æ›´æ–°', () => {
    // å‰ã®ãƒ†ã‚¹ãƒˆã«ä¾å­˜ã—ã¦ã„ã‚‹ï¼ˆå±é™ºï¼ï¼‰
    globalUser.updateEmail('newemail@test.com');
    expect(globalUser.email).toBe('newemail@test.com');
    // ã‚‚ã—å‰ã®ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã—ãŸã‚‰ã€ã“ã®ãƒ†ã‚¹ãƒˆã‚‚å¤±æ•—ã™ã‚‹
  });

  // ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œé †åºãŒå¤‰ã‚ã‚‹ã¨çµæœãŒå¤‰ã‚ã£ã¦ã—ã¾ã†
  // ä¸¦åˆ—å®Ÿè¡Œæ™‚ã«å•é¡ŒãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§
});

// âœ… è‰¯ã„ä¾‹ï¼šå„ãƒ†ã‚¹ãƒˆã§ç‹¬ç«‹ã—ãŸçŠ¶æ…‹ã‚’ç”¨æ„
describe('âœ… ç‹¬ç«‹ã—ãŸãƒ†ã‚¹ãƒˆ', () => {
  let user; // ãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°

  // å„ãƒ†ã‚¹ãƒˆã®å‰ã«æ–°ã—ã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆ
  beforeEach(() => {
    user = new User('John', 'john@test.com'); // æ¯å›æ–°ã—ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼
  });

  test('ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ', () => {
    expect(user.name).toBe('John');
    expect(user.email).toBe('john@test.com');
  });

  test('ãƒ¦ãƒ¼ã‚¶ãƒ¼æ›´æ–°', () => {
    // å‰ã®ãƒ†ã‚¹ãƒˆã«ä¾å­˜ã—ãªã„ç‹¬ç«‹ã—ãŸãƒ†ã‚¹ãƒˆ
    user.updateEmail('newemail@test.com');
    expect(user.email).toBe('newemail@test.com');
  });

  // å„ãƒ†ã‚¹ãƒˆãŒç‹¬ç«‹ã—ã¦ã„ã‚‹ãŸã‚ã€å®Ÿè¡Œé †åºã‚„ä¸¦åˆ—å®Ÿè¡Œã«å½±éŸ¿ã•ã‚Œãªã„
});
```

### 4. ã‚¨ãƒ©ãƒ¼ãƒ†ã‚¹ãƒˆã®æ›¸ãæ–¹ãƒŸã‚¹
```javascript
// âŒ æ‚ªã„ä¾‹ï¼šé–¢æ•°ã‚’ç›´æ¥å®Ÿè¡Œã—ã¦ã—ã¾ã†
test('âŒ ã‚¨ãƒ©ãƒ¼ãƒ†ã‚¹ãƒˆã®é–“é•ã„', () => {
  // é–¢æ•°ãŒå³åº§ã«å®Ÿè¡Œã•ã‚Œã€ãƒ†ã‚¹ãƒˆè‡ªä½“ãŒã‚¨ãƒ©ãƒ¼ã§æ­¢ã¾ã‚‹
  expect(divide(10, 0)).toThrow(); // âŒ ã“ã‚Œã¯å‹•ã‹ãªã„
});

// âœ… è‰¯ã„ä¾‹ï¼šã‚¢ãƒ­ãƒ¼é–¢æ•°ã§åŒ…ã‚€
test('âœ… ã‚¨ãƒ©ãƒ¼ãƒ†ã‚¹ãƒˆã®æ­£è§£', () => {
  // ã‚¢ãƒ­ãƒ¼é–¢æ•°ã§åŒ…ã‚€ã“ã¨ã§ã€ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã«ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒ
  expect(() => divide(10, 0)).toThrow(); // âœ… æ­£ã—ã„æ›¸ãæ–¹
  
  // å¼•æ•°ãŒã‚ã‚‹å ´åˆã‚‚åŒæ§˜
  expect(() => divide(10, 0)).toThrow('Division by zero');
  
  // éåŒæœŸé–¢æ•°ã®ã‚¨ãƒ©ãƒ¼ãƒ†ã‚¹ãƒˆ
  expect(async () => {
    await fetchDataWithError();
  }).rejects.toThrow();
});
```

### 5. æµ®å‹•å°æ•°ç‚¹ã®æ¯”è¼ƒãƒŸã‚¹
```javascript
// âŒ æ‚ªã„ä¾‹ï¼šæµ®å‹•å°æ•°ç‚¹ã‚’å³å¯†æ¯”è¼ƒ
test('âŒ æµ®å‹•å°æ•°ç‚¹ã®é–“é•ã£ãŸæ¯”è¼ƒ', () => {
  const result = 0.1 + 0.2;
  console.log(result); // 0.30000000000000004ï¼ˆèª¤å·®ã‚ã‚Šï¼‰
  
  expect(result).toBe(0.3); // âŒ å¤±æ•—ã™ã‚‹ï¼ˆèª¤å·®ã®ãŸã‚ï¼‰
});

// âœ… è‰¯ã„ä¾‹ï¼štoBeCloseTo ã‚’ä½¿ç”¨
test('âœ… æµ®å‹•å°æ•°ç‚¹ã®æ­£ã—ã„æ¯”è¼ƒ', () => {
  const result = 0.1 + 0.2;
  
  expect(result).toBeCloseTo(0.3);    // âœ… è¿‘ä¼¼å€¤ã§æ¯”è¼ƒ
  expect(result).toBeCloseTo(0.3, 5); // âœ… ç²¾åº¦ã‚’æŒ‡å®šã—ã¦æ¯”è¼ƒ
  
  // ãã®ä»–ã®ä¾‹
  expect(Math.PI).toBeCloseTo(3.14159, 5);
  expect(1/3).toBeCloseTo(0.333333, 6);
});
```

### 6. ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ¯”è¼ƒã§ã®toBeä½¿ç”¨ãƒŸã‚¹
```javascript
// âŒ æ‚ªã„ä¾‹ï¼šã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«toBe()ã‚’ä½¿ç”¨
test('âŒ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ¯”è¼ƒã®é–“é•ã„', () => {
  const user1 = { name: 'John', age: 30 };
  const user2 = { name: 'John', age: 30 };
  
  // åŒã˜å†…å®¹ã ãŒç•°ãªã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‚ç…§ãªã®ã§å¤±æ•—
  expect(user1).toBe(user2); // âŒ å¤±æ•—ã™ã‚‹
});

// âœ… è‰¯ã„ä¾‹ï¼šã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã¯toEqual()ã‚’ä½¿ç”¨
test('âœ… ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ¯”è¼ƒã®æ­£è§£', () => {
  const user1 = { name: 'John', age: 30 };
  const user2 = { name: 'John', age: 30 };
  
  // å†…å®¹ã‚’æ¯”è¼ƒã™ã‚‹ã®ã§OK
  expect(user1).toEqual(user2); // âœ… æˆåŠŸã™ã‚‹
  
  // åŒã˜å‚ç…§ã®å ´åˆã¯toBe()ã‚‚OK
  const user3 = user1;
  expect(user1).toBe(user3); // âœ… åŒã˜å‚ç…§ãªã®ã§æˆåŠŸ
});
```

### 7. éåŒæœŸãƒ†ã‚¹ãƒˆã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚¨ãƒ©ãƒ¼
```javascript
// âŒ å•é¡Œã®ã‚ã‚‹ã‚³ãƒ¼ãƒ‰ï¼šæ™‚é–“ãŒã‹ã‹ã‚Šã™ãã‚‹
test('âŒ æ™‚é–“ã®ã‹ã‹ã‚‹å‡¦ç†', async () => {
  // 10ç§’ã‹ã‹ã‚‹å‡¦ç†ï¼ˆJestã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ5ç§’ã‚’è¶…ãˆã‚‹ï¼‰
  const result = await verySlowFunction(); // 10ç§’ã‹ã‹ã‚‹
  expect(result).toBe('å®Œäº†');
  // âŒ ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚¨ãƒ©ãƒ¼ã§å¤±æ•—
});

// âœ… è§£æ±ºæ³•1ï¼šã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ™‚é–“ã‚’å»¶é•·
test('âœ… ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ™‚é–“ã‚’æŒ‡å®š', async () => {
  const result = await verySlowFunction();
  expect(result).toBe('å®Œäº†');
}, 15000); // 15ç§’ã«è¨­å®š

// âœ… è§£æ±ºæ³•2ï¼šãƒ¢ãƒƒã‚¯ã‚’ä½¿ã£ã¦é«˜é€ŸåŒ–
test('âœ… ãƒ¢ãƒƒã‚¯ã§é«˜é€ŸåŒ–', async () => {
  // å®Ÿéš›ã®å‡¦ç†ã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ã¦é«˜é€ŸåŒ–
  jest.spyOn(apiModule, 'slowApiCall')
    .mockResolvedValue('ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿');
  
  const result = await fastFunction(); // ãƒ¢ãƒƒã‚¯ãªã®ã§é«˜é€Ÿ
  expect(result).toBe('ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿');
});

// âœ… è§£æ±ºæ³•3ï¼šã‚¿ã‚¤ãƒãƒ¼ãƒ¢ãƒƒã‚¯ã‚’ä½¿ç”¨
test('âœ… ã‚¿ã‚¤ãƒãƒ¼ãƒ¢ãƒƒã‚¯ã§æ™‚é–“åˆ¶å¾¡', () => {
  jest.useFakeTimers();
  
  const promise = delayedFunction(5000); // 5ç§’ã®é…å»¶
  
  // æ™‚é–“ã‚’å¼·åˆ¶çš„ã«é€²ã‚ã‚‹
  jest.advanceTimersByTime(5000);
  
  return expect(promise).resolves.toBe('å®Œäº†');
});
```

### 8. ãƒ†ã‚¹ãƒˆåãŒä¸æ˜ç¢º
```javascript
// âŒ æ‚ªã„ä¾‹ï¼šä½•ã‚’ãƒ†ã‚¹ãƒˆã—ã¦ã„ã‚‹ã‹ä¸æ˜
describe('User', () => {
  test('test1', () => { /* ... */ });
  test('works', () => { /* ... */ });
  test('User test', () => { /* ... */ });
  test('should work correctly', () => { /* ... */ });
});

// âœ… è‰¯ã„ä¾‹ï¼šå…·ä½“çš„ã§åˆ†ã‹ã‚Šã‚„ã™ã„ãƒ†ã‚¹ãƒˆå
describe('User ã‚¯ãƒ©ã‚¹', () => {
  test('æœ‰åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆã§ãã‚‹', () => { /* ... */ });
  test('ç„¡åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å ´åˆã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ã‚‹', () => { /* ... */ });
  test('ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ã«å¤‰æ›´ã§ãã‚‹', () => { /* ... */ });
  test('ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’æ­£ã—ã„å½¢å¼ã§å–å¾—ã§ãã‚‹', () => { /* ... */ });
});
```

### ğŸ›¡ï¸ ãƒŸã‚¹ã‚’é˜²ããƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

```javascript
// æ¨å¥¨ã•ã‚Œã‚‹ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®åŸºæœ¬æ§‹é€ 
describe('ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®åå‰', () => {
  // ãƒ†ã‚¹ãƒˆå…±é€šã®è¨­å®š
  beforeEach(() => {
    // å„ãƒ†ã‚¹ãƒˆå‰ã®æº–å‚™å‡¦ç†
  });
  
  afterEach(() => {
    // å„ãƒ†ã‚¹ãƒˆå¾Œã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
    jest.clearAllMocks();
  });
  
  describe('æ©Ÿèƒ½ã‚°ãƒ«ãƒ¼ãƒ—1', () => {
    test('å…·ä½“çš„ãªãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å', async () => {
      // Arrangeï¼ˆæº–å‚™ï¼‰
      const input = 'ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿';
      
      // Actï¼ˆå®Ÿè¡Œï¼‰
      const result = await functionToTest(input);
      
      // Assertï¼ˆç¢ºèªï¼‰
      expect(result).toBe('æœŸå¾…å€¤');
    });
  });
});
```

## ğŸ“š å‚è€ƒãƒªãƒ³ã‚¯

- [Jest å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://jestjs.io/docs/getting-started)
- [JavaScript ãƒ†ã‚¹ãƒˆã®åŸºæœ¬](https://javascript.info/testing-mocha)

---

ã“ã®ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆã‚’ä½¿ã£ã¦ã€åŠ¹æœçš„ãªãƒ†ã‚¹ãƒˆã‚’æ›¸ãã¾ã—ã‚‡ã†ï¼ãƒ†ã‚¹ãƒˆã¯å“è³ªã®é«˜ã„ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ããŸã‚ã®é‡è¦ãªã‚¹ã‚­ãƒ«ã§ã™ã€‚ğŸš€
